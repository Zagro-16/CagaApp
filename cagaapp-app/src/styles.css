/* =========================
   CAGAAPP UI — Super App Pro
   (Clean, readable, high-contrast)
   ========================= */

:root{
  /* base */
  --bg0:#050812;
  --bg1:#070b16;
  --bg2:#0b1220;

  --text:#f4f7ff;
  --muted: rgba(244,247,255,0.72);

  /* accents */
  --a1:#ff7a18;
  --a2:#ffbf66;
  --b1:#2a78ff;
  --b2:#4fd1ff;

  /* surfaces */
  --surface: rgba(255,255,255,0.06);
  --surface2: rgba(255,255,255,0.085);
  --stroke: rgba(255,255,255,0.12);
  --stroke2: rgba(255,255,255,0.18);

  /* high-contrast result surface */
  --resultBg: rgba(6,8,14,0.72);
  --resultBgHover: rgba(6,8,14,0.82);

  /* shadow + radius */
  --shadow: 0 18px 60px rgba(0,0,0,0.45);
  --shadow2: 0 12px 32px rgba(0,0,0,0.30);
  --shadow3: 0 22px 55px rgba(0,0,0,0.42);
  --r: 18px;
  --r2: 24px;

  /* tap sizes */
  --tap: 54px;

  /* focus */
  --ring: rgba(79,209,255,0.35);

  /* subtle grain */
  --noise: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.75' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='180' height='180' filter='url(%23n)' opacity='.22'/%3E%3C/svg%3E");
}

/* ============ Reset ============ */
*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Helvetica Neue", sans-serif;
  color: var(--text);
  background:
    radial-gradient(900px 520px at 14% 12%, rgba(255,122,24,0.22), transparent 60%),
    radial-gradient(900px 520px at 88% 14%, rgba(79,209,255,0.14), transparent 62%),
    radial-gradient(820px 560px at 60% 95%, rgba(42,120,255,0.16), transparent 64%),
    linear-gradient(180deg, var(--bg0), var(--bg2));
  overflow-x:hidden;
}

body::before{
  content:"";
  position:fixed;
  inset:0;
  pointer-events:none;
  background-image: var(--noise);
  opacity:.06;
  mix-blend-mode: overlay;
}

a{ color:inherit; text-decoration:none; }
button, input, textarea, select{ font:inherit; }
img{ max-width:100%; display:block; }
code{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }

:focus-visible{
  outline:none;
  box-shadow: 0 0 0 4px var(--ring);
  border-color: rgba(79,209,255,0.45) !important;
}

.container{
  width: min(980px, calc(100% - 20px));
  margin: 0 auto;
  padding-top: env(safe-area-inset-top);
  padding-bottom: calc(22px + env(safe-area-inset-bottom));
}

/* ============ Layout helpers ============ */
.row{ display:flex; gap:12px; align-items:center; }
.col{ display:flex; flex-direction:column; gap:12px; }
.grid2{ display:grid; grid-template-columns: 1fr; gap: 12px; }

/* ============ Typography ============ */
.h1{ font-size:22px; margin:0; letter-spacing:.2px; }
.h2{ font-size:16px; margin:0; letter-spacing:.2px; color: rgba(244,247,255,0.95); }
.p{ margin:0; line-height:1.55; color: rgba(244,247,255,0.88); }
.small{ font-size:12px; color: rgba(244,247,255,0.80); }
.muted{ color: var(--muted); }

/* ============ Card (clean premium) ============ */
.card{
  position:relative;
  border-radius: var(--r2);
  background: linear-gradient(180deg, rgba(255,255,255,0.085), rgba(255,255,255,0.055));
  border: 1px solid rgba(255,255,255,0.14);
  box-shadow: var(--shadow);
  overflow:hidden;
}

.card::after{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  background:
    radial-gradient(700px 200px at 20% 0%, rgba(255,122,24,0.10), transparent 60%),
    radial-gradient(700px 200px at 85% 10%, rgba(79,209,255,0.09), transparent 62%);
  opacity:.85;
}

/* ============ Buttons ============ */
.btn{
  min-height: var(--tap);
  padding: 12px 16px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(255,255,255,0.06);
  color: var(--text);
  font-weight: 900;
  letter-spacing: .2px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  cursor:pointer;
  user-select:none;
  -webkit-tap-highlight-color: transparent;
  transition: transform .12s ease, background .12s ease, border-color .12s ease, box-shadow .14s ease, filter .14s ease;
}

.btn:hover{
  transform: translateY(-1px);
  background: rgba(255,255,255,0.085);
  border-color: rgba(255,255,255,0.22);
  box-shadow: var(--shadow2);
}
.btn:active{ transform: translateY(0px) scale(0.99); filter: brightness(0.98); }
.btn:disabled{ opacity:.55; cursor:not-allowed; transform:none; box-shadow:none; }

.btn--primary{
  border:none;
  color:#1b1107;
  background: linear-gradient(135deg, var(--a1), var(--a2));
  box-shadow: 0 0 0 1px rgba(255,191,102,0.22), 0 14px 34px rgba(255,122,24,0.18);
}
.btn--primary:hover{ filter: saturate(1.06); }

.btn--ghost{
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.16);
}

/* ============ Inputs ============ */
.input, .textarea, .select{
  width:100%;
  min-height: var(--tap);
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(0,0,0,0.22);
  color: var(--text);
  padding: 12px 12px;
  outline:none;
  transition: border-color .12s ease, box-shadow .12s ease, background .12s ease;
}
.input:focus, .textarea:focus, .select:focus{
  border-color: rgba(79,209,255,0.35);
  box-shadow: 0 0 0 4px rgba(79,209,255,0.16);
  background: rgba(0,0,0,0.26);
}
.textarea{ min-height: 110px; resize: vertical; }

/* ============ Pills / Badges ============ */
.pill{
  padding: 9px 12px;
  border-radius: 999px;
  background: rgba(0,0,0,0.30);
  border: 1px solid rgba(255,255,255,0.14);
  color: rgba(244,247,255,0.92);
  font-weight: 950;
  font-size: 12px;
  letter-spacing: .2px;
}

.badge{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding: 7px 10px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 1000;
  border: 1px solid rgba(255,255,255,0.18);
  background: rgba(0,0,0,0.34);
}

.badge--ok{
  border-color: rgba(79,209,255,0.42);
  background: rgba(79,209,255,0.16);
}

.badge--prob{
  border-color: rgba(255,191,102,0.40);
  background: rgba(255,122,24,0.18);
}

.badge--warn{
  border-color: rgba(255,191,102,0.36);
  background: rgba(255,122,24,0.16);
}

/* ============ KPI ============ */
.kpi{ display:flex; gap:10px; flex-wrap:wrap; }
.kpi__item{
  min-width: 180px;
  flex: 1;
  padding: 12px;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(0,0,0,0.18);
}
.kpi__label{ font-size: 12px; color: rgba(244,247,255,0.72); font-weight: 900; letter-spacing:.2px; }
.kpi__value{ margin-top: 6px; font-size: 18px; font-weight: 1000; letter-spacing:.2px; }
.kpi__hint{ margin-top: 6px; font-size: 12px; color: rgba(244,247,255,0.68); }

/* ============ Tabs ============ */
.tabs{
  display:flex;
  gap:8px;
  padding: 6px;
  border-radius: 999px;
  background: rgba(0,0,0,0.22);
  border: 1px solid rgba(255,255,255,0.12);
}

.tab{
  flex:1;
  min-height: 46px;
  border-radius: 999px;
  border: 1px solid transparent;
  background: transparent;
  color: rgba(244,247,255,0.90);
  font-weight: 1000;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  cursor:pointer;
  transition: background .12s ease, transform .12s ease, border-color .12s ease, box-shadow .14s ease;
}

.tab:hover{
  transform: translateY(-1px);
  background: rgba(255,255,255,0.07);
}

.tab--active{
  background: rgba(255,255,255,0.10);
  border-color: rgba(255,255,255,0.18);
  box-shadow: 0 10px 24px rgba(0,0,0,0.22);
}

.tab__count{
  min-width: 34px;
  height: 26px;
  padding: 0 10px;
  border-radius: 999px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  font-size: 12px;
  font-weight: 1000;
  background: rgba(0,0,0,0.30);
  border: 1px solid rgba(255,255,255,0.14);
}

/* =========================
   RESULTS — Super Leggibili
   ========================= */

.list{ display:flex; flex-direction:column; gap: 12px; }

/* item più scuri e contrastati */
.item{
  width:100%;
  border:0;
  text-align:left;
  position:relative;
  padding: 14px;
  border-radius: 18px;
  background: var(--resultBg);
  border: 1px solid rgba(255,255,255,0.18);
  box-shadow: 0 12px 26px rgba(0,0,0,0.30);
  backdrop-filter: blur(10px);
  transition: transform .12s ease, background .12s ease, border-color .12s ease, box-shadow .14s ease;
}

/* shine */
.item::before{
  content:"";
  position:absolute;
  inset:0;
  border-radius: inherit;
  pointer-events:none;
  background: radial-gradient(520px 110px at 20% 0%, rgba(255,255,255,0.10), transparent 60%);
  opacity:.85;
}

.item:hover{
  transform: translateY(-1px);
  background: var(--resultBgHover);
  border-color: rgba(255,255,255,0.26);
  box-shadow: 0 18px 40px rgba(0,0,0,0.38);
}

.item--selected{
  border-color: rgba(79,209,255,0.48);
  box-shadow: 0 0 0 2px rgba(79,209,255,0.18), var(--shadow3);
}

/* titolo molto più evidente */
.item__title{
  font-size: 17px;
  line-height: 1.15;
  font-weight: 1100;
  margin: 0 0 8px;
  letter-spacing: .2px;
  color: rgba(244,247,255,0.98);
}

/* descrizione/categoria più leggibile */
.item .small{
  color: rgba(244,247,255,0.86);
}

/* meta pills dentro item più forti */
.item .pill{
  background: rgba(0,0,0,0.34);
  border-color: rgba(255,255,255,0.16);
}

/* riga meta */
.item__meta{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  margin-top: 12px;
}

/* pill distanza (quella a destra) più importante */
.item .pill[title="Distanza stimata"]{
  padding: 10px 12px;
  font-size: 13px;
  font-weight: 1000;
  border-color: rgba(255,255,255,0.20);
  background: rgba(0,0,0,0.36);
}

/* walk icon nei risultati più grande e visibile */
.item .pill img{
  width: 22px !important;
  height: 22px !important;
  opacity: 1 !important;
  filter: drop-shadow(0 6px 10px rgba(0,0,0,0.35));
}

/* ============ Walk line (dettaglio) ============ */
.walkline{
  display:flex;
  align-items:center;
  gap:12px;
  padding: 12px;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(0,0,0,0.22);
}

.walkicon{
  width: 72px;          /* più grande e “wow” */
  height: 72px;
  border-radius: 18px;
  padding: 12px;
  background: linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.05));
  border: 1px solid rgba(255,255,255,0.18);
  box-shadow: 0 18px 40px rgba(0,0,0,0.35);
}

.walkline__text{ display:flex; flex-direction:column; min-width:0; }
.walkline__label{ font-size: 12px; color: rgba(244,247,255,0.70); font-weight: 900; letter-spacing:.2px; }
.walkline__value{ font-size: 22px; font-weight: 1100; letter-spacing: .2px; color: rgba(244,247,255,0.98); }

/* ============ Install / Update bars ============ */
.installbar, .updatebar{
  position: sticky;
  top: calc(10px + env(safe-area-inset-top));
  z-index: 80;
  margin-top: 10px;
  padding: 12px;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,0.18);
  background: rgba(8, 10, 18, 0.70);
  backdrop-filter: blur(14px);
  box-shadow: 0 14px 44px rgba(0,0,0,0.35);
  display:flex;
  gap: 10px;
  align-items:center;
  justify-content:space-between;
}

.installbar__text, .updatebar__text{
  min-width:0;
  display:flex;
  flex-direction:column;
  gap:2px;
}
.installbar__title{ font-weight: 1000; letter-spacing: .2px; }
.installbar__hint{ font-size: 12px; opacity: .9; }

/* ============ Separators ============ */
.hr{ height:1px; background: rgba(255,255,255,0.10); margin: 12px 0; }

/* ============ Responsive ============ */
@media (min-width: 880px){
  .grid2{ grid-template-columns: 1fr 1fr; }
}

/* ============ Reduced motion ============ */
@media (prefers-reduced-motion: reduce){
  *{ transition:none !important; scroll-behavior:auto !important; }
}
/* =========================
   Bottom Sheet — Super App
   ========================= */

.sheetOverlay{
  position: fixed;
  inset: 0;
  z-index: 120;
  background: rgba(0,0,0,0.0);
  backdrop-filter: blur(0px);
  opacity: 0;
  pointer-events: none;
  transition: opacity .18s ease, backdrop-filter .18s ease, background .18s ease;
}
.sheetOverlay.isOpen{
  opacity: 1;
  pointer-events: auto;
  background: rgba(0,0,0,0.45);
  backdrop-filter: blur(6px);
}

.sheet{
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 130;

  width: min(980px, 100%);
  margin: 0 auto;

  background: linear-gradient(180deg, rgba(14,18,32,0.92), rgba(8,10,18,0.92));
  border: 1px solid rgba(255,255,255,0.14);
  border-bottom: 0;

  border-top-left-radius: 26px;
  border-top-right-radius: 26px;

  box-shadow: 0 -22px 60px rgba(0,0,0,0.55);
  transform: translateY(110%);
  opacity: 0.98;

  transition: transform .20s ease;
  overflow: hidden;
}

.sheet.isOpen{
  transform: translateY(0%);
}

.sheetHandleWrap{
  display:flex;
  justify-content:center;
  padding: 10px 0 6px;
}
.sheetHandle{
  width: 54px;
  height: 5px;
  border-radius: 999px;
  background: rgba(255,255,255,0.22);
}

.sheetHeader{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap: 12px;
  padding: 12px 16px 10px;
}

.sheetTitleWrap{ min-width:0; }
.sheetTitle{
  font-size: 18px;
  font-weight: 1000;
  letter-spacing: .2px;
  line-height: 1.15;
  margin-bottom: 8px;
}

.sheetSub{
  display:flex;
  align-items:center;
  flex-wrap:wrap;
  gap: 10px;
}

.sheetAddr{
  margin-top: 8px;
  font-size: 12px;
  color: rgba(244,247,255,0.78);
  line-height: 1.35;
}

.sheetClose{
  min-width: 44px;
  height: 44px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(255,255,255,0.06);
  color: rgba(244,247,255,0.92);
  cursor: pointer;
  transition: transform .12s ease, background .12s ease, border-color .12s ease;
}
.sheetClose:hover{
  transform: translateY(-1px);
  background: rgba(255,255,255,0.10);
  border-color: rgba(255,255,255,0.22);
}

.sheetActions{
  display:flex;
  gap: 10px;
  padding: 0 16px 12px;
}
.sheetActionBtn{
  flex: 1;
}

/* Contenuto scrollabile dentro pannello */
.sheetBody{
  padding: 12px 16px calc(18px + env(safe-area-inset-bottom));
  max-height: min(72vh, 620px);
  overflow: auto;
  -webkit-overflow-scrolling: touch;
  border-top: 1px solid rgba(255,255,255,0.10);
}

.sheetSectionTitle{
  font-size: 13px;
  font-weight: 1000;
  letter-spacing: .2px;
  margin: 6px 0 10px;
  color: rgba(244,247,255,0.92);
}
